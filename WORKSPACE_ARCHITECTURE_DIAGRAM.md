# ğŸ—ï¸ Diagrama de Arquitetura - Sistema de Workspaces

## VisÃ£o Geral da Arquitetura

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CAMADA DE APRESENTAÃ‡ÃƒO                       â”‚
â”‚                            (Vue 3 + Tauri)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ WorkspacePanel   â”‚  â”‚  StorageStats    â”‚  â”‚ CollaborationViewâ”‚  â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚ â€¢ Lista WS       â”‚  â”‚ â€¢ EstatÃ­sticas   â”‚  â”‚ â€¢ View completa  â”‚  â”‚
â”‚  â”‚ â€¢ Criar WS       â”‚  â”‚ â€¢ GrÃ¡ficos       â”‚  â”‚ â€¢ IntegraÃ§Ã£o     â”‚  â”‚
â”‚  â”‚ â€¢ Membros        â”‚  â”‚ â€¢ Hosts online   â”‚  â”‚ â€¢ Atividades     â”‚  â”‚
â”‚  â”‚ â€¢ Pastas         â”‚  â”‚ â€¢ Capacidade     â”‚  â”‚ â€¢ Arquivos       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â”‚                     â”‚                     â”‚             â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                 â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              workspaceStore (Pinia State)                     â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â€¢ workspaces: Workspace[]                                    â”‚  â”‚
â”‚  â”‚  â€¢ currentWorkspace: Workspace | null                         â”‚  â”‚
â”‚  â”‚  â€¢ loading: boolean                                           â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  Methods:                                                     â”‚  â”‚
â”‚  â”‚  â€¢ loadWorkspaces()                                           â”‚  â”‚
â”‚  â”‚  â€¢ createWorkspace(name, desc)                                â”‚  â”‚
â”‚  â”‚  â€¢ inviteMember(wsId, email, perm)                            â”‚  â”‚
â”‚  â”‚  â€¢ acceptInvite(wsId, invId)                                  â”‚  â”‚
â”‚  â”‚  â€¢ createSharedFolder(wsId, name, path)                       â”‚  â”‚
â”‚  â”‚  â€¢ shareFolderWithMember(wsId, fId, mId, perm)                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                               â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Tauri IPC Bridge    â”‚
                    â”‚  (invoke commands)    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CAMADA DE APLICAÃ‡ÃƒO                           â”‚
â”‚                          (Rust + Tauri)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Tauri Commands                             â”‚   â”‚
â”‚  â”‚                                                               â”‚   â”‚
â”‚  â”‚  â€¢ list_workspaces()                                         â”‚   â”‚
â”‚  â”‚  â€¢ create_workspace(name, description)                       â”‚   â”‚
â”‚  â”‚  â€¢ invite_workspace_member(wsId, email, perm)                â”‚   â”‚
â”‚  â”‚  â€¢ accept_workspace_invite(wsId, invId)                      â”‚   â”‚
â”‚  â”‚  â€¢ create_shared_folder(wsId, name, path)                    â”‚   â”‚
â”‚  â”‚  â€¢ share_folder_with_member(wsId, fId, mId, perm)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   AppStateWrapper                             â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  â€¢ vfs: VirtualFileSystem                                    â”‚  â”‚
â”‚  â”‚  â€¢ node: Node                                                â”‚  â”‚
â”‚  â”‚  â€¢ workspace_manager: WorkspaceManager                       â”‚  â”‚
â”‚  â”‚  â€¢ storage_manager: P2PStorageManager                        â”‚  â”‚
â”‚  â”‚  â€¢ current_user_id: Uuid                                     â”‚  â”‚
â”‚  â”‚  â€¢ current_user_email: String                                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CAMADA DE DOMÃNIO                                â”‚
â”‚                         (Rust Core)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    WorkspaceManager         â”‚  â”‚   P2PStorageManager         â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ â€¢ workspaces: HashMap       â”‚  â”‚ â€¢ file_replications         â”‚   â”‚
â”‚  â”‚ â€¢ user_workspaces: HashMap  â”‚  â”‚ â€¢ hosts: HashMap            â”‚   â”‚
â”‚  â”‚                             â”‚  â”‚ â€¢ local_peer_id             â”‚   â”‚
â”‚  â”‚ Methods:                    â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚ â€¢ create_workspace()        â”‚  â”‚ Methods:                    â”‚   â”‚
â”‚  â”‚ â€¢ list_user_workspaces()    â”‚  â”‚ â€¢ register_file()           â”‚   â”‚
â”‚  â”‚ â€¢ invite_member()           â”‚  â”‚ â€¢ add_file_host()           â”‚   â”‚
â”‚  â”‚ â€¢ accept_invite()           â”‚  â”‚ â€¢ find_file_hosts()         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ select_best_host()        â”‚   â”‚
â”‚                 â”‚                  â”‚ â€¢ get_stats()               â”‚   â”‚
â”‚                 â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                 â”‚                                 â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Workspace                                 â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â€¢ id: Uuid                                                   â”‚  â”‚
â”‚  â”‚  â€¢ name: String                                               â”‚  â”‚
â”‚  â”‚  â€¢ owner_id: Uuid                                             â”‚  â”‚
â”‚  â”‚  â€¢ members: HashMap<Uuid, WorkspaceMember>                    â”‚  â”‚
â”‚  â”‚  â€¢ shared_folders: HashMap<Uuid, SharedFolder>                â”‚  â”‚
â”‚  â”‚  â€¢ invites: HashMap<Uuid, WorkspaceInvite>                    â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  Methods:                                                     â”‚  â”‚
â”‚  â”‚  â€¢ invite_member(email, perm, invited_by)                     â”‚  â”‚
â”‚  â”‚  â€¢ accept_invite(invite_id, user_id, email)                   â”‚  â”‚
â”‚  â”‚  â€¢ create_shared_folder(name, path, owner_id)                 â”‚  â”‚
â”‚  â”‚  â€¢ add_file_to_folder(folder_id, file_path, file_uuid)        â”‚  â”‚
â”‚  â”‚  â€¢ share_folder_with_member(folder_id, member_id, perm)       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    SharedFolder                                 â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â€¢ id: Uuid                                                   â”‚  â”‚
â”‚  â”‚  â€¢ name: String                                               â”‚  â”‚
â”‚  â”‚  â€¢ path: String                                               â”‚  â”‚
â”‚  â”‚  â€¢ owner_id: Uuid                                             â”‚  â”‚
â”‚  â”‚  â€¢ members: HashMap<Uuid, Permission>                         â”‚  â”‚
â”‚  â”‚  â€¢ files: HashMap<String, Uuid>                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  FileReplication                                â”‚  â”‚
â”‚  â”‚                                                                â”‚  â”‚
â”‚  â”‚  â€¢ file_uuid: Uuid                                            â”‚  â”‚
â”‚  â”‚  â€¢ file_path: String                                          â”‚  â”‚
â”‚  â”‚  â€¢ owner_id: Uuid                                             â”‚  â”‚
â”‚  â”‚  â€¢ workspace_id: Option<Uuid>                                 â”‚  â”‚
â”‚  â”‚  â€¢ folder_id: Option<Uuid>                                    â”‚  â”‚
â”‚  â”‚  â€¢ hosts: Vec<HostInfo>                                       â”‚  â”‚
â”‚  â”‚  â€¢ total_size: u64                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CAMADA DE REDE P2P                              â”‚
â”‚                    (libp2p + PeerJS + WebRTC)                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   P2P Network    â”‚  â”‚   DHT Storage    â”‚  â”‚  Host Discovery  â”‚     â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚     â”‚
â”‚  â”‚ â€¢ Peer discovery â”‚  â”‚ â€¢ Block storage  â”‚  â”‚ â€¢ mDNS (local)   â”‚     â”‚
â”‚  â”‚ â€¢ NAT traversal  â”‚  â”‚ â€¢ Replication    â”‚  â”‚ â€¢ DHT (global)   â”‚     â”‚
â”‚  â”‚ â€¢ Relay support  â”‚  â”‚ â€¢ Retrieval      â”‚  â”‚ â€¢ Bootstrap      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Connected Hosts                                â”‚  â”‚
â”‚  â”‚                                                                   â”‚  â”‚
â”‚  â”‚  Host A          Host B          Host C          Host D          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ Files  â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Files  â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Files  â”‚â—„â”€â”€â”€â”€â–ºâ”‚ Files  â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ Shared â”‚      â”‚ Shared â”‚      â”‚ Shared â”‚      â”‚ Shared â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚      â–²               â–²               â–²               â–²           â”‚  â”‚
â”‚  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚
â”‚  â”‚                  Replication & Sync                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Fluxo de Dados

### 1. Criar Workspace

```
User Input (Vue)
    â”‚
    â–¼
workspaceStore.createWorkspace()
    â”‚
    â–¼
Tauri IPC: invoke('create_workspace')
    â”‚
    â–¼
Rust: create_workspace command
    â”‚
    â–¼
WorkspaceManager.create_workspace()
    â”‚
    â–¼
Workspace::new()
    â”‚
    â–¼
Store in HashMap
    â”‚
    â–¼
Return workspace_id
    â”‚
    â–¼
Update Vue UI
```

### 2. Upload de Arquivo

```
User selects file (Vue)
    â”‚
    â–¼
filesStore.uploadFile()
    â”‚
    â–¼
Tauri IPC: invoke('upload_file')
    â”‚
    â–¼
Rust: upload_file command
    â”‚
    â–¼
VFS.upload_file()
    â”‚
    â”œâ”€â–º Quantum encryption
    â”œâ”€â–º Erasure coding
    â”œâ”€â–º Create blocks
    â”‚
    â–¼
P2PStorageManager.register_file()
    â”‚
    â”œâ”€â–º Register in workspace/folder
    â”œâ”€â–º Add local host
    â”‚
    â–¼
P2P Network: Distribute blocks
    â”‚
    â”œâ”€â–º Store in DHT
    â”œâ”€â–º Replicate to peers
    â”‚
    â–¼
Update UI with progress
```

### 3. Convidar Membro

```
User enters email (Vue)
    â”‚
    â–¼
workspaceStore.inviteMember()
    â”‚
    â–¼
Tauri IPC: invoke('invite_workspace_member')
    â”‚
    â–¼
Rust: invite_workspace_member command
    â”‚
    â–¼
WorkspaceManager.invite_member()
    â”‚
    â–¼
Workspace.invite_member()
    â”‚
    â”œâ”€â–º Check permissions
    â”œâ”€â–º Create invite
    â”œâ”€â–º Set expiration (7 days)
    â”‚
    â–¼
Store invite in workspace
    â”‚
    â–¼
Return invite_id
    â”‚
    â–¼
Send email (future: email service)
    â”‚
    â–¼
Update UI
```

### 4. Download de Arquivo

```
User clicks download (Vue)
    â”‚
    â–¼
filesStore.downloadFile()
    â”‚
    â–¼
Tauri IPC: invoke('download_file')
    â”‚
    â–¼
Rust: download_file command
    â”‚
    â–¼
P2PStorageManager.find_file_hosts()
    â”‚
    â”œâ”€â–º Query DHT
    â”œâ”€â–º Find online hosts
    â”‚
    â–¼
P2PStorageManager.select_best_host()
    â”‚
    â”œâ”€â–º Sort by latency
    â”œâ”€â–º Select fastest
    â”‚
    â–¼
P2P Network: Request blocks
    â”‚
    â”œâ”€â–º Download from host
    â”œâ”€â–º Verify integrity
    â”‚
    â–¼
VFS.download_file()
    â”‚
    â”œâ”€â–º Reconstruct from blocks
    â”œâ”€â–º Verify chain
    â”œâ”€â–º Decrypt
    â”‚
    â–¼
Save to disk
    â”‚
    â–¼
Update UI with progress
```

## NÃ­veis de PermissÃ£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Permission Levels                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Owner (Dono)                                           â”‚
â”‚  â”œâ”€ Controle total do workspace                        â”‚
â”‚  â”œâ”€ Pode deletar workspace                             â”‚
â”‚  â”œâ”€ Pode transferir ownership                          â”‚
â”‚  â””â”€ Todas permissÃµes de Admin                          â”‚
â”‚                                                          â”‚
â”‚  Admin (Administrador)                                  â”‚
â”‚  â”œâ”€ Convidar/remover membros                           â”‚
â”‚  â”œâ”€ Criar/deletar pastas                               â”‚
â”‚  â”œâ”€ Compartilhar pastas                                â”‚
â”‚  â”œâ”€ Gerenciar permissÃµes                               â”‚
â”‚  â””â”€ Todas permissÃµes de Editor                         â”‚
â”‚                                                          â”‚
â”‚  Editor                                                 â”‚
â”‚  â”œâ”€ Upload de arquivos                                 â”‚
â”‚  â”œâ”€ Editar arquivos                                    â”‚
â”‚  â”œâ”€ Deletar prÃ³prios arquivos                          â”‚
â”‚  â”œâ”€ Criar pastas (se permitido)                        â”‚
â”‚  â””â”€ Todas permissÃµes de Viewer                         â”‚
â”‚                                                          â”‚
â”‚  Viewer (Visualizador)                                  â”‚
â”‚  â”œâ”€ Visualizar arquivos                                â”‚
â”‚  â”œâ”€ Download de arquivos                               â”‚
â”‚  â”œâ”€ Listar pastas                                      â”‚
â”‚  â””â”€ Ver membros                                        â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ReplicaÃ§Ã£o P2P

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              File Replication Strategy                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Original File                                          â”‚
â”‚       â”‚                                                  â”‚
â”‚       â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ Encrypt â”‚  (Quantum-resistant)                       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                            â”‚
â”‚       â”‚                                                  â”‚
â”‚       â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚  Split  â”‚  (Erasure coding: 10+4)                   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                            â”‚
â”‚       â”‚                                                  â”‚
â”‚       â”œâ”€â–º Shard 0 â”€â”€â–º Host A, Host B                   â”‚
â”‚       â”œâ”€â–º Shard 1 â”€â”€â–º Host B, Host C                   â”‚
â”‚       â”œâ”€â–º Shard 2 â”€â”€â–º Host C, Host D                   â”‚
â”‚       â”œâ”€â–º Shard 3 â”€â”€â–º Host D, Host A                   â”‚
â”‚       â”œâ”€â–º ...                                           â”‚
â”‚       â””â”€â–º Shard 13 â”€â–º Host X, Host Y                   â”‚
â”‚                                                          â”‚
â”‚  Reconstruction:                                        â”‚
â”‚  â€¢ Need any 10 shards (out of 14)                      â”‚
â”‚  â€¢ Tolerates 4 host failures                           â”‚
â”‚  â€¢ Automatic failover                                  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## SeguranÃ§a em Camadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Security Layers                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Layer 1: Application                                   â”‚
â”‚  â”œâ”€ Permission checks                                   â”‚
â”‚  â”œâ”€ Email validation                                    â”‚
â”‚  â”œâ”€ Invite expiration                                   â”‚
â”‚  â””â”€ Access control                                      â”‚
â”‚                                                          â”‚
â”‚  Layer 2: Encryption                                    â”‚
â”‚  â”œâ”€ Quantum-resistant (Kyber-1024)                      â”‚
â”‚  â”œâ”€ Post-quantum signatures (Dilithium)                 â”‚
â”‚  â”œâ”€ Unique keys per file                                â”‚
â”‚  â””â”€ Blockchain integrity                                â”‚
â”‚                                                          â”‚
â”‚  Layer 3: Network                                       â”‚
â”‚  â”œâ”€ Encrypted P2P connections                           â”‚
â”‚  â”œâ”€ DHT security                                        â”‚
â”‚  â”œâ”€ Peer authentication                                 â”‚
â”‚  â””â”€ NAT traversal security                              â”‚
â”‚                                                          â”‚
â”‚  Layer 4: Storage                                       â”‚
â”‚  â”œâ”€ Distributed shards                                  â”‚
â”‚  â”œâ”€ No single point of failure                          â”‚
â”‚  â”œâ”€ Erasure coding redundancy                           â”‚
â”‚  â””â”€ Automatic replication                               â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Escalabilidade

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Scalability Architecture                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Horizontal Scaling:                                    â”‚
â”‚  â€¢ Add more hosts = more capacity                       â”‚
â”‚  â€¢ No central bottleneck                                â”‚
â”‚  â€¢ Linear performance scaling                           â”‚
â”‚                                                          â”‚
â”‚  Load Distribution:                                     â”‚
â”‚  â€¢ Files distributed across hosts                       â”‚
â”‚  â€¢ Automatic load balancing                             â”‚
â”‚  â€¢ Latency-based routing                                â”‚
â”‚                                                          â”‚
â”‚  Fault Tolerance:                                       â”‚
â”‚  â€¢ Erasure coding (10+4)                                â”‚
â”‚  â€¢ Automatic failover                                   â”‚
â”‚  â€¢ Self-healing network                                 â”‚
â”‚                                                          â”‚
â”‚  Performance:                                           â”‚
â”‚  â€¢ Parallel downloads                                   â”‚
â”‚  â€¢ Local caching                                        â”‚
â”‚  â€¢ Adaptive compression                                 â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Arquitetura completa e escalÃ¡vel para colaboraÃ§Ã£o descentralizada!** ğŸ—ï¸
